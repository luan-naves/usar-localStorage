<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exemplo de localStorage Estilizado</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>localStorage</h1>
        <label for="nome">Digite seu nome:</label>
        <input type="text" id="nome">
        <button onclick="salvarNome()">Salvar Nome</button>
        
        <div>
            <p>
                Olá <span id="nomeUsuario">Usuário</span>, seja bem-vindo!
            </p>
        </div>
        
        <div id="statusMessage">
            <p>Recarregue a página para ver se o nome foi salvo.</p>
        </div>
        
        <button onclick="recarregarPagina()">Recarregar</button>

        <div>
            <p>
                Aperte o botão para limpar o localStorage.
            </p>
        </div>
        <button class="secondary" onclick="limparLocalStorage()">Limpar</button>

        <div class="theme-toggle-container">
            <button id="theme-toggle">Alternar Tema</button>
        </div>
    </div>

    <script>
        // Função para atualizar o nome exibido
        function atualizarNomeExibido(nome) {
            document.getElementById('nomeUsuario').textContent = nome || 'Usuário';
        }

        // Função para salvar o nome no localStorage
        function salvarNome() {
            let nome = document.getElementById('nome').value;
            if (nome) {
                localStorage.setItem('nomeUsuario', nome);
                atualizarNomeExibido(nome);
                document.getElementById('statusMessage').textContent = `Nome '${nome}' salvo com sucesso!`;
            } else {
                document.getElementById('statusMessage').textContent = 'Por favor, digite um nome antes de salvar.';
            }
        }

        // Função para recarregar a página
        function recarregarPagina() {
            window.location.reload(true);
        }

        // Função para limpar o localStorage
        function limparLocalStorage() {
            localStorage.clear();
            atualizarNomeExibido('Usuário');
            document.getElementById('statusMessage').textContent = 'localStorage limpo! Digite um novo nome para salvar.';
        }

        // Lógica de temas e inicialização
        const themeToggleBtn = document.getElementById('theme-toggle');

        function setTheme(theme) {
            document.body.className = theme;
            localStorage.setItem('theme', theme);
        }

        function toggleTheme() {
            const currentTheme = document.body.className;
            const newTheme = currentTheme === 'dark-theme' ? '' : 'dark-theme';
            setTheme(newTheme);
        }

        window.onload = function() {
            // Lógica para carregar o nome do usuário
            let nomeArmazenado = localStorage.getItem('nomeUsuario');
            atualizarNomeExibido(nomeArmazenado);
            if (nomeArmazenado) {
                document.getElementById('statusMessage').textContent = `Nome '${nomeArmazenado}' carregado do localStorage.`;
            } else {
                document.getElementById('statusMessage').textContent = 'Nenhum nome encontrado no localStorage. Digite e salve um nome!';
            }

            // Lógica para carregar o tema
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme) {
                setTheme(savedTheme);
            }

            // Adicionar evento ao botão de alternar tema
            themeToggleBtn.addEventListener('click', toggleTheme);
        };
    </script>
</body>
</html>